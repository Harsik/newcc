{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tiflis\\\\Documents\\\\eGovFrameDev-4.0.0-64bit\\\\workspace\\\\newcc\\\\egovframe-template-simple-react\\\\src\\\\egov\\\\admin\\\\schedule\\\\EgovAdminScheduleDetail.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as EgovNet from 'context/egovFetch';\nimport URL from 'context/url';\nimport CODE from 'context/code';\nimport { default as EgovLeftNav } from 'egov/common/leftmenu/EgovLeftNavAdmin';\nimport EgovPaging from 'egov/common/EgovPaging';\nimport EgovAttachFile from 'egov/common/EgovAttachFile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EgovAdminScheduleDetail(props) {\n  _s();\n\n  var _scheduleDetail$start, _scheduleDetail$endDa, _history$location$sta2;\n\n  console.group(\"EgovAdminScheduleDetail\");\n  console.log(\"[Start] EgovAdminScheduleDetail ------------------------------\");\n  console.log(\"EgovAdminScheduleDetail [props] : \", props);\n  const history = useHistory();\n  console.log(\"EgovAdminScheduleDetail [history] : \", history);\n  const [scheduleDetail, setScheduleDetail] = useState({});\n  const [boardAttachFiles, setBoardAttachFiles] = useState();\n  const [user, setUser] = useState({});\n\n  const retrieveDetail = () => {\n    var _history$location$sta;\n\n    const retrieveDetailURL = '/cop/smt/sim/egovIndvdlSchdulManageDetailAPI.do';\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        schdulId: (_history$location$sta = history.location.state) === null || _history$location$sta === void 0 ? void 0 : _history$location$sta.schdulId\n      })\n    };\n    EgovNet.requestFetch(retrieveDetailURL, requestOptions, function (resp) {\n      let rawScheduleDetail = resp.result.scheduleDetail;\n      rawScheduleDetail.startDateTime = convertDate(rawScheduleDetail.schdulBgnde);\n      rawScheduleDetail.endDateTime = convertDate(rawScheduleDetail.schdulEndde);\n      rawScheduleDetail.reptitSeCodeNm = getCodeName(resp.result.reptitSeCode, resp.result.scheduleDetail.reptitSeCode);\n      rawScheduleDetail.schdulIpcrCodeNm = getCodeName(resp.result.schdulIpcrCode, resp.result.scheduleDetail.schdulIpcrCode);\n      rawScheduleDetail.schdulSeNm = getCodeName(resp.result.schdulSe, resp.result.scheduleDetail.schdulSe);\n      setScheduleDetail(rawScheduleDetail);\n      setUser(resp.result.user);\n      setBoardAttachFiles(resp.result.resultFiles);\n    });\n  };\n\n  const convertDate = str => {\n    let year = str.substring(0, 4);\n    let month = str.substring(4, 6);\n    let date = str.substring(6, 8);\n    let hour = str.substring(8, 10);\n    let minute = str.substring(10, 12);\n    return {\n      year: year,\n      month: month,\n      date: date,\n      hour: hour,\n      minute: minute,\n      dateForm: year + \"년 \" + month + \"월 \" + date + \"일 \" + hour + \"시 \" + minute + \"분 \"\n    };\n  };\n\n  const getCodeName = (codeArr, code) => {\n    return codeArr.map(codeObj => {\n      if (codeObj.code == code) return codeObj.codeNm;\n    });\n  };\n\n  const onClickDeleteSchedule = schdulId => {\n    const deleteBoardURL = \"/cop/smt/sim/egovIndvdlSchdulManageDeleteAPI.do\";\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        schdulId: schdulId\n      })\n    };\n    EgovNet.requestFetch(deleteBoardURL, requestOptions, resp => {\n      console.log(\"====>>> Schdule delete= \", resp);\n\n      if (Number(resp.resultCode) === Number(CODE.RCV_SUCCESS)) {\n        alert(\"게시글이 삭제되었습니다.\");\n        history.push(URL.ADMIN_SCHEDULE);\n      } else {\n        alert(\"ERR : \" + resp.resultMessage);\n      }\n    });\n  };\n\n  useEffect(function () {\n    retrieveDetail();\n    return function () {};\n  }, []);\n  console.log(\"------------------------------EgovAdminScheduleDetail [End]\");\n  console.groupEnd(\"EgovAdminScheduleDetail\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c_wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"location\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: URL.MAIN,\n              className: \"home\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: URL.ADMIN,\n              children: \"\\uC0AC\\uC774\\uD2B8\\uAD00\\uB9AC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\uC77C\\uC815\\uAD00\\uB9AC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"layout\",\n        children: [/*#__PURE__*/_jsxDEV(EgovLeftNav, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contents SITE_GALLARY_VIEW\",\n          id: \"contents\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"top_tit\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"tit_1\",\n              children: \"\\uC0AC\\uC774\\uD2B8\\uAD00\\uB9AC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"tit_2\",\n            children: \"\\uC77C\\uC815\\uAD00\\uB9AC \\uC0C1\\uC138\\uBCF4\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"board_view2\",\n            children: [/*#__PURE__*/_jsxDEV(\"dl\", {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: \"\\uC77C\\uC815\\uAD6C\\uBD84\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: scheduleDetail.schdulSeNm\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: \"\\uC911\\uC694\\uB3C4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: scheduleDetail.schdulIpcrCodeNm\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: \"\\uBD80\\uC11C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: scheduleDetail.schdulDeptName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: \"\\uC77C\\uC815\\uBA85\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: scheduleDetail.schdulNm\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: \"\\uC77C\\uC815\\uB0B4\\uC6A9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: scheduleDetail.schdulCn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: \"\\uBC18\\uBCF5\\uAD6C\\uBD84\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: scheduleDetail.reptitSeCodeNm\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: \"\\uB0A0\\uC9DC/\\uC2DC\\uAC04\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: [\" \", (_scheduleDetail$start = scheduleDetail.startDateTime) === null || _scheduleDetail$start === void 0 ? void 0 : _scheduleDetail$start.dateForm, \" ~ \", (_scheduleDetail$endDa = scheduleDetail.endDateTime) === null || _scheduleDetail$endDa === void 0 ? void 0 : _scheduleDetail$endDa.dateForm]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: \"\\uB2F4\\uB2F9\\uC790\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: scheduleDetail.schdulChargerName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(EgovAttachFile, {\n              boardFiles: boardAttachFiles\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"board_btn_area\",\n              children: [user.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"left_col btn1\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: {\n                    pathname: URL.ADMIN_SCHEDULE_MODIFY,\n                    state: {\n                      schdulId: (_history$location$sta2 = history.location.state) === null || _history$location$sta2 === void 0 ? void 0 : _history$location$sta2.schdulId\n                    }\n                  },\n                  className: \"btn btn_skyblue_h46 w_100\",\n                  children: \"\\uC218\\uC815\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn_skyblue_h46 w_100\",\n                  onClick: e => {\n                    var _history$location$sta3;\n\n                    onClickDeleteSchedule((_history$location$sta3 = history.location.state) === null || _history$location$sta3 === void 0 ? void 0 : _history$location$sta3.schdulId);\n                  },\n                  children: \"\\uC0AD\\uC81C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"right_col btn1\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: URL.ADMIN_SCHEDULE,\n                  className: \"btn btn_blue_h46 w_100\",\n                  children: \"\\uBAA9\\uB85D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EgovAdminScheduleDetail, \"fva2Ny5To81WU61iE32mSynNbcU=\", false, function () {\n  return [useHistory];\n});\n\n_c = EgovAdminScheduleDetail;\nexport default EgovAdminScheduleDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"EgovAdminScheduleDetail\");","map":{"version":3,"sources":["C:/Users/Tiflis/Documents/eGovFrameDev-4.0.0-64bit/workspace/newcc/egovframe-template-simple-react/src/egov/admin/schedule/EgovAdminScheduleDetail.jsx"],"names":["React","useState","useEffect","Link","useHistory","EgovNet","URL","CODE","default","EgovLeftNav","EgovPaging","EgovAttachFile","EgovAdminScheduleDetail","props","console","group","log","history","scheduleDetail","setScheduleDetail","boardAttachFiles","setBoardAttachFiles","user","setUser","retrieveDetail","retrieveDetailURL","requestOptions","method","headers","body","JSON","stringify","schdulId","location","state","requestFetch","resp","rawScheduleDetail","result","startDateTime","convertDate","schdulBgnde","endDateTime","schdulEndde","reptitSeCodeNm","getCodeName","reptitSeCode","schdulIpcrCodeNm","schdulIpcrCode","schdulSeNm","schdulSe","resultFiles","str","year","substring","month","date","hour","minute","dateForm","codeArr","code","map","codeObj","codeNm","onClickDeleteSchedule","deleteBoardURL","Number","resultCode","RCV_SUCCESS","alert","push","ADMIN_SCHEDULE","resultMessage","groupEnd","MAIN","ADMIN","schdulDeptName","schdulNm","schdulCn","schdulChargerName","id","pathname","ADMIN_SCHEDULE_MODIFY","e"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport * as EgovNet from 'context/egovFetch';\r\nimport URL from 'context/url';\r\nimport CODE from 'context/code';\r\n\r\nimport { default as EgovLeftNav } from 'egov/common/leftmenu/EgovLeftNavAdmin';\r\nimport EgovPaging from 'egov/common/EgovPaging';\r\nimport EgovAttachFile from 'egov/common/EgovAttachFile';\r\n\r\nfunction EgovAdminScheduleDetail(props) {\r\n    console.group(\"EgovAdminScheduleDetail\");\r\n    console.log(\"[Start] EgovAdminScheduleDetail ------------------------------\");\r\n    console.log(\"EgovAdminScheduleDetail [props] : \", props);\r\n\r\n    const history = useHistory();\r\n    console.log(\"EgovAdminScheduleDetail [history] : \", history);\r\n\r\n    const [scheduleDetail, setScheduleDetail] = useState({});\r\n    const [boardAttachFiles, setBoardAttachFiles] = useState();\r\n    const [user, setUser] = useState({});\r\n\r\n    const retrieveDetail = () => {\r\n\r\n        const retrieveDetailURL = '/cop/smt/sim/egovIndvdlSchdulManageDetailAPI.do';\r\n        const requestOptions = {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                schdulId: history.location.state?.schdulId\r\n            })\r\n        }\r\n        EgovNet.requestFetch(retrieveDetailURL,\r\n            requestOptions,\r\n            function (resp) {\r\n                let rawScheduleDetail = resp.result.scheduleDetail;\r\n                rawScheduleDetail.startDateTime = convertDate(rawScheduleDetail.schdulBgnde);\r\n                rawScheduleDetail.endDateTime = convertDate(rawScheduleDetail.schdulEndde);\r\n                rawScheduleDetail.reptitSeCodeNm = getCodeName(resp.result.reptitSeCode, resp.result.scheduleDetail.reptitSeCode);\r\n                rawScheduleDetail.schdulIpcrCodeNm = getCodeName(resp.result.schdulIpcrCode, resp.result.scheduleDetail.schdulIpcrCode);\r\n                rawScheduleDetail.schdulSeNm = getCodeName(resp.result.schdulSe, resp.result.scheduleDetail.schdulSe);\r\n                setScheduleDetail(rawScheduleDetail);\r\n                setUser(resp.result.user);\r\n                setBoardAttachFiles(resp.result.resultFiles);\r\n            }\r\n        );\r\n    }\r\n    const convertDate = (str) => {\r\n        let year = str.substring(0, 4);\r\n        let month = str.substring(4, 6);\r\n        let date = str.substring(6, 8);\r\n        let hour = str.substring(8, 10);\r\n        let minute = str.substring(10, 12);\r\n        return {\r\n            year: year,\r\n            month: month,\r\n            date: date,\r\n            hour: hour,\r\n            minute: minute,\r\n            dateForm: year + \"년 \" + month + \"월 \" + date + \"일 \" + hour + \"시 \" + minute + \"분 \"\r\n        }\r\n    }\r\n\r\n    const getCodeName = (codeArr, code) => {\r\n        return (\r\n            codeArr.map((codeObj) => {\r\n                if (codeObj.code == code) return codeObj.codeNm;\r\n            })\r\n        );\r\n    }\r\n\r\n    const onClickDeleteSchedule = (schdulId) => {\r\n        const deleteBoardURL = \"/cop/smt/sim/egovIndvdlSchdulManageDeleteAPI.do\";\r\n        const requestOptions = {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                schdulId: schdulId\r\n            })\r\n        }\r\n\r\n        EgovNet.requestFetch(deleteBoardURL,\r\n            requestOptions,\r\n            (resp) => {\r\n                console.log(\"====>>> Schdule delete= \", resp);\r\n                if (Number(resp.resultCode) === Number(CODE.RCV_SUCCESS)) {\r\n                    alert(\"게시글이 삭제되었습니다.\")\r\n                    history.push(URL.ADMIN_SCHEDULE);\r\n                } else {\r\n                    alert(\"ERR : \" + resp.resultMessage);\r\n                }\r\n\r\n            }\r\n        );\r\n    }\r\n\r\n    useEffect(function () {\r\n        retrieveDetail();\r\n        return function () {\r\n        }\r\n    }, []);\r\n\r\n    console.log(\"------------------------------EgovAdminScheduleDetail [End]\");\r\n    console.groupEnd(\"EgovAdminScheduleDetail\");\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"c_wrap\">\r\n                {/* <!-- Location --> */}\r\n                <div className=\"location\">\r\n                    <ul>\r\n                        <li><Link to={URL.MAIN} className=\"home\">Home</Link></li>\r\n                        <li><Link to={URL.ADMIN}>사이트관리</Link></li>\r\n                        <li>일정관리</li>\r\n                    </ul>\r\n                </div>\r\n                {/* <!--// Location --> */}\r\n\r\n                <div className=\"layout\">\r\n                    {/* <!-- Navigation --> */}\r\n                    <EgovLeftNav></EgovLeftNav>\r\n                    {/* <!--// Navigation --> */}\r\n\r\n                    <div className=\"contents SITE_GALLARY_VIEW\" id=\"contents\">\r\n                        {/* <!-- 본문 --> */}\r\n\r\n                        <div className=\"top_tit\">\r\n                            <h1 className=\"tit_1\">사이트관리</h1>\r\n                        </div>\r\n\r\n                        <h2 className=\"tit_2\">일정관리 상세보기</h2>\r\n\r\n                        {/* <!-- 게시판 상세보기 --> */}\r\n                        <div className=\"board_view2\">\r\n                            <dl>\r\n                                <dt>일정구분</dt>\r\n                                <dd>{scheduleDetail.schdulSeNm}</dd>\r\n                            </dl>\r\n                            <dl>\r\n                                <dt>중요도</dt>\r\n                                <dd>{scheduleDetail.schdulIpcrCodeNm}</dd>\r\n                            </dl>\r\n                            <dl>\r\n                                <dt>부서</dt>\r\n                                <dd>{scheduleDetail.schdulDeptName}</dd>\r\n                            </dl>\r\n                            <dl>\r\n                                <dt>일정명</dt>\r\n                                <dd>{scheduleDetail.schdulNm}</dd>\r\n                            </dl>\r\n                            <dl>\r\n                                <dt>일정내용</dt>\r\n                                <dd>{scheduleDetail.schdulCn}</dd>\r\n                            </dl>\r\n                            <dl>\r\n                                <dt>반복구분</dt>\r\n                                <dd>{scheduleDetail.reptitSeCodeNm}</dd>\r\n                            </dl>\r\n                            <dl>\r\n                                <dt>날짜/시간</dt>\r\n                                <dd> {scheduleDetail.startDateTime?.dateForm} ~ {scheduleDetail.endDateTime?.dateForm}</dd>\r\n                            </dl>\r\n                            <dl>\r\n                                <dt>담당자</dt>\r\n                                <dd>{scheduleDetail.schdulChargerName}</dd>\r\n                            </dl>\r\n                            {/* <dl>\r\n                                <dt>파일첨부</dt>\r\n                                <dd>\r\n                                    <span className=\"file_attach\">\r\n                                        <a href=\"\">file_name.hwp</a> <span>[3626] byte</span>\r\n                                    </span>\r\n                                </dd>\r\n                            </dl> */}\r\n\r\n                            <EgovAttachFile boardFiles={boardAttachFiles} />\r\n\r\n                            {/* <!-- 버튼영역 --> */}\r\n                            <div className=\"board_btn_area\">\r\n                                {user.id &&\r\n                                    <div className=\"left_col btn1\">\r\n                                        <Link to={{\r\n                                            pathname: URL.ADMIN_SCHEDULE_MODIFY,\r\n                                            state: {\r\n                                                schdulId: history.location.state?.schdulId\r\n                                            }\r\n                                        }} className=\"btn btn_skyblue_h46 w_100\">수정</Link>\r\n                                        <button className=\"btn btn_skyblue_h46 w_100\"\r\n                                            onClick={(e) => {\r\n                                                onClickDeleteSchedule(history.location.state?.schdulId);\r\n                                            }}>삭제</button>\r\n                                        \r\n                                    </div>\r\n                                }\r\n                                <div className=\"right_col btn1\">\r\n                                    <Link to={URL.ADMIN_SCHEDULE} className=\"btn btn_blue_h46 w_100\">목록</Link>\r\n                                </div>\r\n                            </div>\r\n                            {/* <!--// 버튼영역 --> */}\r\n                        </div>\r\n                        {/* <!-- 게시판 상세보기 --> */}\r\n\r\n                        {/* <!--// 본문 --> */}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EgovAdminScheduleDetail;"]},"metadata":{},"sourceType":"module"}